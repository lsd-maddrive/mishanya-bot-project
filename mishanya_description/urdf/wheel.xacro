<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

  <xacro:property name="wheel_mass" value="10" />
  <xacro:property name="track_rad" value="0.04" />
  <xacro:property name="track_length" value="0.03" />

   <xacro:macro name="solid_cylinder_inertial"
               params="r h mass *origin">
    <inertial>
      <xacro:insert_block name="origin"/>
      <mass value="${mass}"/>
      <inertia ixx="${(mass * h * h)/12 + (mass * r * r)/4}" ixy="0.0" ixz="0.0"
               iyy="${(mass * h * h)/12 + (mass * r * r)/4}" iyz="0.0"
               izz="${mass / 2 * r * r}" />
    </inertial>
  </xacro:macro>

  <xacro:macro name="omni_wheel" params="num">
    <link name="omni_wheel_${num}_link">
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://omni_bot/meshes/chassis.STL" />
        </geometry>
        <material name="red">
          <color rgba="0.3 0.3 1.0 1.0" />>
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://omni_bot/meshes/chassis.STL" />
        </geometry>
      </collision>
      <xacro:default_inertial mass="1" />
    </link>
  </xacro:macro>


  <xacro:macro name="joint_omni_wheel" params="num child origin_xyz">
    <joint name="joint_omni_wheel_${num}" type="continuous">
      <origin rpy="0 0 0" xyz="${origin_xyz}"/>
      <child link="${child}"/>
      <parent link="base_link"/>
      <axis rpy="0 0 0" xyz="0 1 0"/>
      <limit effort="10000" velocity="1000"/>
    </joint>
  </xacro:macro>



</robot>



